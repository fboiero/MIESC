<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 700" font-family="Arial, Helvetica, sans-serif">
  <!-- Background -->
  <rect width="1000" height="700" fill="#ffffff"/>
  
  <!-- Title -->
  <text x="500" y="40" text-anchor="middle" font-size="26" font-weight="bold" fill="#2c3e50">
    Figura 6.2. Infraestructura Local - Cero Trรกfico Externo
  </text>
  
  <!-- Main container -->
  <rect x="50" y="70" width="900" height="610" fill="#e8f8f5" rx="10" stroke="#27ae60" stroke-width="3"/>
  
  <!-- Header bar -->
  <rect x="50" y="70" width="900" height="50" fill="#1e8449" rx="10"/>
  <rect x="50" y="105" width="900" height="15" fill="#1e8449"/>
  <text x="500" y="103" text-anchor="middle" font-size="22" font-weight="bold" fill="white">
    ๐ INFRAESTRUCTURA LOCAL
  </text>
  
  <!-- Contrato input -->
  <rect x="400" y="145" width="200" height="80" fill="#3498db" rx="8" stroke="#2980b9" stroke-width="2"/>
  <text x="500" y="180" text-anchor="middle" font-size="18" font-weight="bold" fill="white">Contrato</text>
  <text x="500" y="205" text-anchor="middle" font-size="16" fill="#d6eaf8">(.sol)</text>
  
  <!-- Arrow down -->
  <defs>
    <marker id="arrowDown" markerWidth="10" markerHeight="8" refX="5" refY="0" orient="auto">
      <polygon points="0 0, 10 0, 5 8" fill="#555"/>
    </marker>
    <marker id="arrowRight" markerWidth="10" markerHeight="8" refX="9" refY="4" orient="auto">
      <polygon points="0 0, 10 4, 0 8" fill="#27ae60"/>
    </marker>
    <marker id="arrowLeft" markerWidth="10" markerHeight="8" refX="1" refY="4" orient="auto">
      <polygon points="10 0, 0 4, 10 8" fill="#27ae60"/>
    </marker>
  </defs>
  
  <line x1="500" y1="225" x2="500" y2="280" stroke="#555" stroke-width="3" marker-end="url(#arrowDown)"/>
  
  <!-- Main processing row -->
  <!-- MIESC Adapters -->
  <rect x="120" y="295" width="200" height="120" fill="#27ae60" rx="10" stroke="#1e8449" stroke-width="3"/>
  <text x="220" y="340" text-anchor="middle" font-size="18" font-weight="bold" fill="white">MIESC</text>
  <text x="220" y="365" text-anchor="middle" font-size="16" fill="#d5f5e3">Adapters</text>
  <text x="220" y="400" text-anchor="middle" font-size="12" fill="#d5f5e3">Orquestaciรณn</text>
  
  <!-- Ollama Server -->
  <rect x="400" y="295" width="200" height="120" fill="#9b59b6" rx="10" stroke="#8e44ad" stroke-width="3"/>
  <text x="500" y="340" text-anchor="middle" font-size="18" font-weight="bold" fill="white">Ollama</text>
  <text x="500" y="365" text-anchor="middle" font-size="16" fill="#f5eef8">Server</text>
  <text x="500" y="400" text-anchor="middle" font-size="12" fill="#e8daef">(localhost:11434)</text>
  
  <!-- Modelo Llama -->
  <rect x="680" y="295" width="200" height="120" fill="#e74c3c" rx="10" stroke="#c0392b" stroke-width="3"/>
  <text x="780" y="340" text-anchor="middle" font-size="18" font-weight="bold" fill="white">Modelo</text>
  <text x="780" y="365" text-anchor="middle" font-size="16" fill="#fdedec">(Llama 3.2)</text>
  <text x="780" y="400" text-anchor="middle" font-size="12" fill="#f5b7b1">RAM/GPU Local</text>
  
  <!-- Bidirectional arrows -->
  <!-- MIESC to Ollama -->
  <line x1="320" y1="340" x2="395" y2="340" stroke="#27ae60" stroke-width="3" marker-end="url(#arrowRight)"/>
  <line x1="395" y1="370" x2="320" y2="370" stroke="#27ae60" stroke-width="3" marker-end="url(#arrowLeft)"/>
  
  <!-- Ollama to Model -->
  <line x1="600" y1="340" x2="675" y2="340" stroke="#27ae60" stroke-width="3" marker-end="url(#arrowRight)"/>
  <line x1="675" y1="370" x2="600" y2="370" stroke="#27ae60" stroke-width="3" marker-end="url(#arrowLeft)"/>
  
  <!-- Arrow down from MIESC -->
  <line x1="220" y1="415" x2="220" y2="480" stroke="#555" stroke-width="3" marker-end="url(#arrowDown)"/>
  
  <!-- Hallazgos output -->
  <rect x="120" y="495" width="200" height="80" fill="#f39c12" rx="8" stroke="#d68910" stroke-width="2"/>
  <text x="220" y="530" text-anchor="middle" font-size="18" font-weight="bold" fill="white">Hallazgos</text>
  <text x="220" y="555" text-anchor="middle" font-size="16" fill="#fef9e7">Normalizados</text>
  
  <!-- Security boundary visualization -->
  <rect x="80" y="135" width="840" height="460" fill="none" rx="15" stroke="#27ae60" stroke-width="2" stroke-dasharray="10,5"/>
  
  <!-- Localhost label -->
  <rect x="700" y="145" width="200" height="35" fill="#27ae60" rx="6"/>
  <text x="800" y="170" text-anchor="middle" font-size="14" font-weight="bold" fill="white">๐ localhost only</text>
  
  <!-- Zero traffic banner -->
  <rect x="150" y="605" width="700" height="55" fill="#1e8449" rx="8"/>
  <text x="500" y="625" text-anchor="middle" font-size="11" fill="#82e0aa">โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ</text>
  <text x="500" y="648" text-anchor="middle" font-size="20" font-weight="bold" fill="white">
    ๐ก๏ธ CERO TRรFICO EXTERNO
  </text>
  
  <!-- Comparison callouts -->
  <rect x="420" y="495" width="460" height="85" fill="#d5f5e3" rx="8" stroke="#27ae60" stroke-width="1"/>
  <text x="650" y="520" text-anchor="middle" font-size="15" font-weight="bold" fill="#1e8449">โ Beneficios de Privacidad</text>
  <text x="445" y="545" font-size="13" fill="#1e8449">โข Sin exposiciรณn a terceros</text>
  <text x="445" y="565" font-size="13" fill="#1e8449">โข Sin logs en servidores externos</text>
  <text x="650" y="545" font-size="13" fill="#1e8449">โข Sin retenciรณn de datos</text>
  <text x="650" y="565" font-size="13" fill="#1e8449">โข Control total del cรณdigo</text>
</svg>
