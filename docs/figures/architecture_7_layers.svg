<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="600" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="layer1" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#E8F5E9"/>
      <stop offset="100%" style="stop-color:#C8E6C9"/>
    </linearGradient>
    <linearGradient id="layer2" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#E3F2FD"/>
      <stop offset="100%" style="stop-color:#BBDEFB"/>
    </linearGradient>
    <linearGradient id="layer3" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#FFF3E0"/>
      <stop offset="100%" style="stop-color:#FFE0B2"/>
    </linearGradient>
    <linearGradient id="layer4" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#FCE4EC"/>
      <stop offset="100%" style="stop-color:#F8BBD9"/>
    </linearGradient>
    <linearGradient id="layer5" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#E1F5FE"/>
      <stop offset="100%" style="stop-color:#B3E5FC"/>
    </linearGradient>
    <linearGradient id="layer6" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#F3E5F5"/>
      <stop offset="100%" style="stop-color:#E1BEE7"/>
    </linearGradient>
    <linearGradient id="layer7" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#ECEFF1"/>
      <stop offset="100%" style="stop-color:#CFD8DC"/>
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.3"/>
    </filter>
  </defs>

  <!-- Title -->
  <text x="400" y="35" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#1a237e" text-anchor="middle">
    MIESC Defense-in-Depth Architecture
  </text>
  <text x="400" y="55" font-family="Arial, sans-serif" font-size="14" fill="#5c6bc0" text-anchor="middle">
    Arquitectura de Defensa en Profundidad de 7 Capas
  </text>

  <!-- Input -->
  <rect x="320" y="70" width="160" height="40" rx="20" fill="#1565C0" filter="url(#shadow)"/>
  <text x="400" y="95" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" font-weight="bold">Smart Contract (.sol)</text>

  <!-- Arrow down -->
  <path d="M400 110 L400 130 L390 130 L400 145 L410 130 L400 130" fill="#1565C0"/>

  <!-- Layer 1: Lint/Style -->
  <rect x="50" y="150" width="700" height="55" rx="8" fill="url(#layer1)" stroke="#4CAF50" stroke-width="2" filter="url(#shadow)"/>
  <text x="70" y="175" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2E7D32">CAPA 1 / LAYER 1</text>
  <text x="70" y="193" font-family="Arial, sans-serif" font-size="11" fill="#388E3C">Lint &amp; Style Analysis</text>
  <rect x="280" y="160" width="90" height="35" rx="5" fill="#4CAF50"/>
  <text x="325" y="182" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle">Solhint</text>
  <rect x="380" y="160" width="90" height="35" rx="5" fill="#4CAF50"/>
  <text x="425" y="182" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle">Semgrep</text>
  <rect x="480" y="160" width="90" height="35" rx="5" fill="#4CAF50"/>
  <text x="525" y="182" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle">4nalyzer</text>

  <!-- Layer 2: Static Analysis -->
  <rect x="50" y="210" width="700" height="55" rx="8" fill="url(#layer2)" stroke="#2196F3" stroke-width="2" filter="url(#shadow)"/>
  <text x="70" y="235" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1565C0">CAPA 2 / LAYER 2</text>
  <text x="70" y="253" font-family="Arial, sans-serif" font-size="11" fill="#1976D2">Static Analysis</text>
  <rect x="230" y="220" width="90" height="35" rx="5" fill="#2196F3"/>
  <text x="275" y="242" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle">Slither</text>
  <rect x="330" y="220" width="90" height="35" rx="5" fill="#2196F3"/>
  <text x="375" y="242" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle">Rattle</text>
  <rect x="430" y="220" width="90" height="35" rx="5" fill="#2196F3"/>
  <text x="475" y="242" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle">Securify2</text>
  <rect x="530" y="220" width="90" height="35" rx="5" fill="#2196F3"/>
  <text x="575" y="242" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle">Oyente</text>

  <!-- Layer 3: Symbolic Execution -->
  <rect x="50" y="270" width="700" height="55" rx="8" fill="url(#layer3)" stroke="#FF9800" stroke-width="2" filter="url(#shadow)"/>
  <text x="70" y="295" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#E65100">CAPA 3 / LAYER 3</text>
  <text x="70" y="313" font-family="Arial, sans-serif" font-size="11" fill="#F57C00">Symbolic Execution</text>
  <rect x="280" y="280" width="90" height="35" rx="5" fill="#FF9800"/>
  <text x="325" y="302" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle">Mythril</text>
  <rect x="380" y="280" width="90" height="35" rx="5" fill="#FF9800"/>
  <text x="425" y="302" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle">Manticore</text>
  <rect x="480" y="280" width="90" height="35" rx="5" fill="#FF9800"/>
  <text x="525" y="302" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle">Maian</text>

  <!-- Layer 4: Fuzzing -->
  <rect x="50" y="330" width="700" height="55" rx="8" fill="url(#layer4)" stroke="#E91E63" stroke-width="2" filter="url(#shadow)"/>
  <text x="70" y="355" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#880E4F">CAPA 4 / LAYER 4</text>
  <text x="70" y="373" font-family="Arial, sans-serif" font-size="11" fill="#C2185B">Fuzzing &amp; Property Testing</text>
  <rect x="230" y="340" width="80" height="35" rx="5" fill="#E91E63"/>
  <text x="270" y="362" font-family="Arial, sans-serif" font-size="9" fill="white" text-anchor="middle">Echidna</text>
  <rect x="318" y="340" width="80" height="35" rx="5" fill="#E91E63"/>
  <text x="358" y="362" font-family="Arial, sans-serif" font-size="9" fill="white" text-anchor="middle">Foundry</text>
  <rect x="406" y="340" width="80" height="35" rx="5" fill="#E91E63"/>
  <text x="446" y="362" font-family="Arial, sans-serif" font-size="9" fill="white" text-anchor="middle">Harvey</text>
  <rect x="494" y="340" width="80" height="35" rx="5" fill="#E91E63"/>
  <text x="534" y="362" font-family="Arial, sans-serif" font-size="9" fill="white" text-anchor="middle">sFuzz</text>
  <rect x="582" y="340" width="80" height="35" rx="5" fill="#E91E63"/>
  <text x="622" y="362" font-family="Arial, sans-serif" font-size="9" fill="white" text-anchor="middle">ConFuzzius</text>

  <!-- Layer 5: Formal Verification -->
  <rect x="50" y="390" width="700" height="55" rx="8" fill="url(#layer5)" stroke="#00BCD4" stroke-width="2" filter="url(#shadow)"/>
  <text x="70" y="415" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#006064">CAPA 5 / LAYER 5</text>
  <text x="70" y="433" font-family="Arial, sans-serif" font-size="11" fill="#0097A7">Formal Verification</text>
  <rect x="250" y="400" width="90" height="35" rx="5" fill="#00BCD4"/>
  <text x="295" y="422" font-family="Arial, sans-serif" font-size="9" fill="white" text-anchor="middle">SMTChecker</text>
  <rect x="350" y="400" width="90" height="35" rx="5" fill="#00BCD4"/>
  <text x="395" y="422" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle">Halmos</text>
  <rect x="450" y="400" width="90" height="35" rx="5" fill="#00BCD4"/>
  <text x="495" y="422" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle">Certora</text>
  <rect x="550" y="400" width="90" height="35" rx="5" fill="#00BCD4"/>
  <text x="595" y="422" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle">VeriSmart</text>

  <!-- Layer 6: ML/AI -->
  <rect x="50" y="450" width="700" height="55" rx="8" fill="url(#layer6)" stroke="#9C27B0" stroke-width="2" filter="url(#shadow)"/>
  <text x="70" y="475" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4A148C">CAPA 6 / LAYER 6</text>
  <text x="70" y="493" font-family="Arial, sans-serif" font-size="11" fill="#7B1FA2">Machine Learning &amp; AI</text>
  <rect x="230" y="460" width="90" height="35" rx="5" fill="#9C27B0"/>
  <text x="275" y="482" font-family="Arial, sans-serif" font-size="9" fill="white" text-anchor="middle">PropertyGPT</text>
  <rect x="330" y="460" width="90" height="35" rx="5" fill="#9C27B0"/>
  <text x="375" y="482" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle">DA-GNN</text>
  <rect x="430" y="460" width="90" height="35" rx="5" fill="#9C27B0"/>
  <text x="475" y="482" font-family="Arial, sans-serif" font-size="9" fill="white" text-anchor="middle">SmartLLM</text>
  <rect x="530" y="460" width="90" height="35" rx="5" fill="#9C27B0"/>
  <text x="575" y="482" font-family="Arial, sans-serif" font-size="9" fill="white" text-anchor="middle">DogeFuzz</text>
  <rect x="630" y="460" width="90" height="35" rx="5" fill="#9C27B0"/>
  <text x="675" y="482" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle">SolGPT</text>

  <!-- Layer 7: Correlation -->
  <rect x="50" y="510" width="700" height="55" rx="8" fill="url(#layer7)" stroke="#607D8B" stroke-width="2" filter="url(#shadow)"/>
  <text x="70" y="535" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#37474F">CAPA 7 / LAYER 7</text>
  <text x="70" y="553" font-family="Arial, sans-serif" font-size="11" fill="#546E7A">Correlation &amp; Filtering</text>
  <rect x="280" y="520" width="120" height="35" rx="5" fill="#607D8B"/>
  <text x="340" y="542" font-family="Arial, sans-serif" font-size="9" fill="white" text-anchor="middle">Result Correlator</text>
  <rect x="410" y="520" width="120" height="35" rx="5" fill="#607D8B"/>
  <text x="470" y="542" font-family="Arial, sans-serif" font-size="9" fill="white" text-anchor="middle">FP Filter (89%)</text>
  <rect x="540" y="520" width="120" height="35" rx="5" fill="#607D8B"/>
  <text x="600" y="542" font-family="Arial, sans-serif" font-size="9" fill="white" text-anchor="middle">Confidence Score</text>

  <!-- Output -->
  <path d="M400 565 L400 575 L390 575 L400 590 L410 575 L400 575" fill="#1B5E20"/>
  <rect x="280" y="570" width="240" height="25" rx="12" fill="#1B5E20" filter="url(#shadow)"/>
  <text x="400" y="588" font-family="Arial, sans-serif" font-size="12" fill="white" text-anchor="middle" font-weight="bold">Unified Security Report</text>

  <!-- Legend -->
  <text x="720" y="150" font-family="Arial, sans-serif" font-size="10" fill="#666" text-anchor="end">25 Tools</text>
  <text x="720" y="165" font-family="Arial, sans-serif" font-size="10" fill="#666" text-anchor="end">7 Layers</text>
</svg>
