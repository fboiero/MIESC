<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1100 750" font-family="Arial, Helvetica, sans-serif">
  <!-- Background -->
  <rect width="1100" height="750" fill="#ffffff"/>
  
  <!-- Title -->
  <text x="550" y="40" text-anchor="middle" font-size="26" font-weight="bold" fill="#2c3e50">
    Figura 6.1. Superficie de Ataque en An谩lisis con API Comercial
  </text>
  
  <!-- Main container -->
  <rect x="50" y="70" width="1000" height="660" fill="#fef9f9" rx="10" stroke="#e74c3c" stroke-width="3"/>
  
  <!-- Header bar -->
  <rect x="50" y="70" width="1000" height="50" fill="#c0392b" rx="10"/>
  <rect x="50" y="105" width="1000" height="15" fill="#c0392b"/>
  <text x="550" y="103" text-anchor="middle" font-size="22" font-weight="bold" fill="white">
    ANLISIS CON API COMERCIAL
  </text>
  
  <!-- Auditor -->
  <rect x="100" y="150" width="140" height="80" fill="#3498db" rx="8" stroke="#2980b9" stroke-width="2"/>
  <text x="170" y="185" text-anchor="middle" font-size="18" font-weight="bold" fill="white">AUDITOR</text>
  <text x="170" y="210" text-anchor="middle" font-size="12" fill="#d6eaf8"> Usuario</text>
  
  <!-- Arrow from Auditor -->
  <line x1="170" y1="230" x2="170" y2="280" stroke="#555" stroke-width="2"/>
  <text x="185" y="260" font-size="13" fill="#555" font-style="italic">C贸digo fuente</text>
  <text x="185" y="278" font-size="13" fill="#555" font-style="italic">confidencial</text>
  
  <!-- HTTPS Client -->
  <rect x="100" y="300" width="140" height="70" fill="#27ae60" rx="8" stroke="#1e8449" stroke-width="2"/>
  <text x="170" y="335" text-anchor="middle" font-size="16" font-weight="bold" fill="white">HTTPS</text>
  <text x="170" y="355" text-anchor="middle" font-size="14" fill="#d5f5e3">Client</text>
  
  <!-- Arrow to CDN -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="8" refX="9" refY="4" orient="auto">
      <polygon points="0 0, 10 4, 0 8" fill="#555"/>
    </marker>
  </defs>
  <line x1="240" y1="335" x2="320" y2="335" stroke="#555" stroke-width="3" marker-end="url(#arrow)"/>
  
  <!-- CDN/Edge -->
  <rect x="335" y="300" width="160" height="70" fill="#f39c12" rx="8" stroke="#d68910" stroke-width="2"/>
  <text x="415" y="335" text-anchor="middle" font-size="16" font-weight="bold" fill="white">CDN/Edge</text>
  <text x="415" y="355" text-anchor="middle" font-size="14" fill="#fef9e7">Cloudflare</text>
  
  <!-- Arrow to API GW -->
  <line x1="495" y1="335" x2="575" y2="335" stroke="#555" stroke-width="3" marker-end="url(#arrow)"/>
  
  <!-- API Gateway -->
  <rect x="590" y="300" width="160" height="70" fill="#9b59b6" rx="8" stroke="#8e44ad" stroke-width="2"/>
  <text x="670" y="335" text-anchor="middle" font-size="16" font-weight="bold" fill="white">API GW</text>
  <text x="670" y="355" text-anchor="middle" font-size="14" fill="#f5eef8">(OpenAI)</text>
  
  <!-- Arrow to Model -->
  <line x1="750" y1="335" x2="830" y2="335" stroke="#555" stroke-width="3" marker-end="url(#arrow)"/>
  
  <!-- Model GPU -->
  <rect x="845" y="300" width="160" height="70" fill="#e74c3c" rx="8" stroke="#c0392b" stroke-width="2"/>
  <text x="925" y="335" text-anchor="middle" font-size="16" font-weight="bold" fill="white">Modelo</text>
  <text x="925" y="355" text-anchor="middle" font-size="14" fill="#fdedec">GPU</text>
  
  <!-- Vertical lines to vectors -->
  <line x1="170" y1="370" x2="170" y2="440" stroke="#e74c3c" stroke-width="2" stroke-dasharray="5,3"/>
  <line x1="415" y1="370" x2="415" y2="440" stroke="#e74c3c" stroke-width="2" stroke-dasharray="5,3"/>
  <line x1="670" y1="370" x2="670" y2="440" stroke="#e74c3c" stroke-width="2" stroke-dasharray="5,3"/>
  <line x1="925" y1="370" x2="925" y2="440" stroke="#e74c3c" stroke-width="2" stroke-dasharray="5,3"/>
  
  <!-- Vector 1 -->
  <rect x="90" y="450" width="160" height="130" fill="#fff5f5" rx="8" stroke="#e74c3c" stroke-width="2"/>
  <rect x="90" y="450" width="160" height="35" fill="#e74c3c" rx="8"/>
  <rect x="90" y="475" width="160" height="10" fill="#e74c3c"/>
  <text x="170" y="475" text-anchor="middle" font-size="14" font-weight="bold" fill="white">VECTOR 1</text>
  <text x="170" y="515" text-anchor="middle" font-size="15" font-weight="bold" fill="#c0392b">Man-in-</text>
  <text x="170" y="535" text-anchor="middle" font-size="15" font-weight="bold" fill="#c0392b">middle</text>
  <text x="170" y="565" text-anchor="middle" font-size="12" fill="#777">Intercepci贸n</text>
  <text x="170" y="580" text-anchor="middle" font-size="12" fill="#777">de tr谩fico</text>
  
  <!-- Vector 2 -->
  <rect x="335" y="450" width="160" height="130" fill="#fff5f5" rx="8" stroke="#e74c3c" stroke-width="2"/>
  <rect x="335" y="450" width="160" height="35" fill="#e74c3c" rx="8"/>
  <rect x="335" y="475" width="160" height="10" fill="#e74c3c"/>
  <text x="415" y="475" text-anchor="middle" font-size="14" font-weight="bold" fill="white">VECTOR 2</text>
  <text x="415" y="515" text-anchor="middle" font-size="15" font-weight="bold" fill="#c0392b">Logs en</text>
  <text x="415" y="535" text-anchor="middle" font-size="15" font-weight="bold" fill="#c0392b">edge nodes</text>
  <text x="415" y="565" text-anchor="middle" font-size="12" fill="#777">Almacenamiento</text>
  <text x="415" y="580" text-anchor="middle" font-size="12" fill="#777">en CDN</text>
  
  <!-- Vector 3 -->
  <rect x="590" y="450" width="160" height="130" fill="#fff5f5" rx="8" stroke="#e74c3c" stroke-width="2"/>
  <rect x="590" y="450" width="160" height="35" fill="#e74c3c" rx="8"/>
  <rect x="590" y="475" width="160" height="10" fill="#e74c3c"/>
  <text x="670" y="475" text-anchor="middle" font-size="14" font-weight="bold" fill="white">VECTOR 3</text>
  <text x="670" y="515" text-anchor="middle" font-size="15" font-weight="bold" fill="#c0392b">Retenci贸n</text>
  <text x="670" y="535" text-anchor="middle" font-size="15" font-weight="bold" fill="#c0392b">30+ d铆as</text>
  <text x="670" y="565" text-anchor="middle" font-size="12" fill="#777">Pol铆ticas de</text>
  <text x="670" y="580" text-anchor="middle" font-size="12" fill="#777">data retention</text>
  
  <!-- Vector 4 -->
  <rect x="845" y="450" width="160" height="130" fill="#fff5f5" rx="8" stroke="#e74c3c" stroke-width="2"/>
  <rect x="845" y="450" width="160" height="35" fill="#e74c3c" rx="8"/>
  <rect x="845" y="475" width="160" height="10" fill="#e74c3c"/>
  <text x="925" y="475" text-anchor="middle" font-size="14" font-weight="bold" fill="white">VECTOR 4</text>
  <text x="925" y="515" text-anchor="middle" font-size="15" font-weight="bold" fill="#c0392b">Memorizaci贸n</text>
  <text x="925" y="535" text-anchor="middle" font-size="15" font-weight="bold" fill="#c0392b">en modelo</text>
  <text x="925" y="565" text-anchor="middle" font-size="12" fill="#777">Training data</text>
  <text x="925" y="580" text-anchor="middle" font-size="12" fill="#777">leakage</text>
  
  <!-- Warning icons -->
  <text x="170" y="430" text-anchor="middle" font-size="24">锔</text>
  <text x="415" y="430" text-anchor="middle" font-size="24">锔</text>
  <text x="670" y="430" text-anchor="middle" font-size="24">锔</text>
  <text x="925" y="430" text-anchor="middle" font-size="24">锔</text>
  
  <!-- Bottom note -->
  <rect x="100" y="610" width="900" height="100" fill="#2c3e50" rx="8"/>
  <text x="550" y="645" text-anchor="middle" font-size="18" font-weight="bold" fill="white">
     Cada nodo representa un punto de exposici贸n potencial
  </text>
  <text x="550" y="675" text-anchor="middle" font-size="15" fill="#bdc3c7">
    El c贸digo fuente confidencial atraviesa m煤ltiples sistemas de terceros
  </text>
  <text x="550" y="698" text-anchor="middle" font-size="15" fill="#bdc3c7">
    sin garant铆as de confidencialidad ni control sobre el procesamiento
  </text>
</svg>
