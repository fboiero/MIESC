/* MIESC Premium Report - Professional PDF Styles */
/* Designed for weasyprint PDF generation */

/* Note: Google Fonts import removed - WeasyPrint uses system fonts */
/* Fallback fonts: -apple-system, BlinkMacSystemFont, Segoe UI, sans-serif */

/* Page Setup */
@page {
    size: A4;
    margin: 2cm 2.5cm;

    @top-center {
        content: "CONFIDENTIAL - Smart Contract Security Audit";
        font-size: 8pt;
        color: #666;
        font-family: 'Inter', sans-serif;
    }

    @bottom-left {
        content: "MIESC Security";
        font-size: 8pt;
        color: #666;
        font-family: 'Inter', sans-serif;
    }

    @bottom-right {
        content: "Page " counter(page) " of " counter(pages);
        font-size: 8pt;
        color: #666;
        font-family: 'Inter', sans-serif;
    }
}

@page :first {
    margin-top: 0;
    @top-center { content: none; }
    @bottom-left { content: none; }
    @bottom-right { content: none; }
}

/* Base Styles */
:root {
    --color-critical: #dc3545;
    --color-high: #fd7e14;
    --color-medium: #ffc107;
    --color-low: #28a745;
    --color-info: #17a2b8;
    --color-primary: #2563eb;
    --color-dark: #1e293b;
    --color-gray: #64748b;
    --color-light: #f8fafc;
    --color-border: #e2e8f0;
}

* {
    box-sizing: border-box;
}

body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    font-size: 10pt;
    line-height: 1.6;
    color: var(--color-dark);
    background: white;
}

/* Cover Page */
.cover-page {
    page-break-after: always;
    display: block;
    text-align: center;
    background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
    color: white;
    margin: -2cm -2.5cm;
    padding: 6cm 3cm 3cm 3cm;
    height: 29.7cm; /* A4 height */
}

.cover-page h1 {
    font-size: 32pt;
    font-weight: 700;
    margin-bottom: 0.5em;
    color: white;
}

.cover-page h2 {
    font-size: 18pt;
    font-weight: 400;
    color: #94a3b8;
    margin-bottom: 1em;
}

.cover-page h3 {
    font-size: 14pt;
    font-weight: 500;
    color: #60a5fa;
    border: 2px solid #60a5fa;
    padding: 0.5em 1.5em;
    border-radius: 8px;
    margin: 1em 0;
}

/* Typography */
h1 {
    font-size: 20pt;
    font-weight: 700;
    color: var(--color-dark);
    margin-top: 1.5em;
    margin-bottom: 0.5em;
    padding-bottom: 0.3em;
    border-bottom: 3px solid var(--color-primary);
    page-break-after: avoid;
}

h2 {
    font-size: 14pt;
    font-weight: 600;
    color: var(--color-dark);
    margin-top: 1.2em;
    margin-bottom: 0.4em;
    page-break-after: avoid;
}

h3 {
    font-size: 11pt;
    font-weight: 600;
    color: var(--color-gray);
    margin-top: 1em;
    margin-bottom: 0.3em;
    page-break-after: avoid;
}

p {
    margin: 0.5em 0;
    text-align: justify;
}

/* Tables */
table {
    width: 100%;
    border-collapse: collapse;
    margin: 1em 0;
    font-size: 9pt;
    page-break-inside: avoid;
}

thead {
    background: var(--color-dark);
    color: white;
}

th {
    padding: 10px 12px;
    text-align: left;
    font-weight: 600;
    text-transform: uppercase;
    font-size: 8pt;
    letter-spacing: 0.5px;
}

td {
    padding: 8px 12px;
    border-bottom: 1px solid var(--color-border);
    vertical-align: top;
}

tbody tr:nth-child(even) {
    background: var(--color-light);
}

tbody tr:hover {
    background: #f1f5f9;
}

/* Severity Badges */
.severity-critical {
    color: white;
    background: var(--color-critical);
    padding: 2px 8px;
    border-radius: 4px;
    font-weight: 600;
    font-size: 8pt;
    display: inline-block;
}

.severity-high {
    color: white;
    background: var(--color-high);
    padding: 2px 8px;
    border-radius: 4px;
    font-weight: 600;
    font-size: 8pt;
    display: inline-block;
}

.severity-medium {
    color: var(--color-dark);
    background: var(--color-medium);
    padding: 2px 8px;
    border-radius: 4px;
    font-weight: 600;
    font-size: 8pt;
}

.severity-low {
    color: white;
    background: var(--color-low);
    padding: 2px 8px;
    border-radius: 4px;
    font-weight: 600;
    font-size: 8pt;
}

.severity-info {
    color: white;
    background: var(--color-info);
    padding: 2px 8px;
    border-radius: 4px;
    font-weight: 600;
    font-size: 8pt;
}

/* Recommendation Box */
.recommendation-box {
    border-radius: 8px !important;
    padding: 20px !important;
    margin: 1.5em 0 !important;
    page-break-inside: avoid;
}

.recommendation-box.go {
    background: #dcfce7;
    border-color: var(--color-low) !important;
}

.recommendation-box.no-go {
    background: #fef2f2;
    border-color: var(--color-critical) !important;
}

.recommendation-box.conditional {
    background: #fffbeb;
    border-color: var(--color-medium) !important;
}

/* Finding Cards */
.finding-header {
    border-radius: 8px !important;
    padding: 15px !important;
    margin-bottom: 1em;
    color: white;
    page-break-inside: avoid;
}

.finding-header table {
    margin: 0;
    background: transparent;
}

.finding-header th,
.finding-header td {
    color: white;
    border: none;
    padding: 4px 8px;
    background: transparent;
}

.finding-header thead {
    background: transparent;
}

/* Code Blocks */
pre, code {
    font-family: 'JetBrains Mono', 'Fira Code', monospace;
    font-size: 8.5pt;
}

pre {
    background: #1e293b;
    color: #e2e8f0;
    padding: 1em;
    border-radius: 8px;
    white-space: pre-wrap;
    word-wrap: break-word;
    page-break-inside: avoid;
    margin: 1em 0;
    line-height: 1.4;
}

code {
    background: #f1f5f9;
    color: var(--color-critical);
    padding: 2px 6px;
    border-radius: 4px;
}

pre code {
    background: transparent;
    color: inherit;
    padding: 0;
}

/* Risk Matrix */
.risk-matrix {
    font-family: 'JetBrains Mono', monospace;
    font-size: 9pt;
    background: var(--color-light);
    padding: 1em;
    border-radius: 8px;
    page-break-inside: avoid;
}

/* Metrics Cards */
.metric-card {
    display: inline-block;
    background: var(--color-light);
    border: 1px solid var(--color-border);
    border-radius: 8px;
    padding: 1em;
    margin: 0.5em;
    text-align: center;
    min-width: 120px;
}

.metric-value {
    font-size: 24pt;
    font-weight: 700;
    color: var(--color-primary);
}

.metric-label {
    font-size: 8pt;
    color: var(--color-gray);
    text-transform: uppercase;
}

/* Lists */
ul, ol {
    margin: 0.5em 0;
    padding-left: 1.5em;
}

li {
    margin: 0.3em 0;
}

/* Horizontal Rules - minimal spacing */
hr {
    border: none;
    border-top: 1px solid var(--color-border);
    margin: 1em 0;
    page-break-after: avoid;
}

/* Links */
a {
    color: var(--color-primary);
    text-decoration: none;
}

a:hover {
    text-decoration: underline;
}

/* Blockquotes */
blockquote {
    border-left: 4px solid var(--color-primary);
    padding-left: 1em;
    margin: 1em 0;
    color: var(--color-gray);
    font-style: italic;
}

/* Footer */
.footer {
    margin-top: 3em;
    padding-top: 1.5em;
    border-top: 2px solid var(--color-border);
    text-align: center;
    color: var(--color-gray);
    font-size: 9pt;
}

/* Page Breaks */
.page-break {
    page-break-after: always;
}

/* Only break before major sections, not every h1 */
h1.section-break {
    page-break-before: always;
}

/* Prevent orphan headings - keep heading with following content */
h1, h2, h3, h4 {
    page-break-after: avoid;
    break-after: avoid;
}

/* Keep content together */
.finding-card, .recommendation-box, table {
    page-break-inside: avoid;
    break-inside: avoid;
}

/* Ensure table follows its heading */
h2 + table, h3 + table, h4 + table,
h2 + p + table, h3 + p + table {
    page-break-before: avoid;
    break-before: avoid;
}

/* Orphan and widow control */
p {
    orphans: 3;
    widows: 3;
}

/* Executive Summary Box */
.executive-summary {
    background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
    border: 1px solid #93c5fd;
    border-radius: 12px;
    padding: 1.5em;
    margin: 1em 0;
}

/* Attack Scenario Box */
.attack-scenario {
    background: #fef2f2;
    border: 1px solid #fecaca;
    border-left: 4px solid var(--color-critical);
    border-radius: 8px;
    padding: 1em;
    margin: 1em 0;
}

.attack-scenario h4 {
    color: var(--color-critical);
    margin-top: 0;
}

/* Timeline */
.timeline {
    border-left: 3px solid var(--color-primary);
    padding-left: 1.5em;
    margin: 1em 0;
}

.timeline-item {
    position: relative;
    margin-bottom: 1em;
}

.timeline-item::before {
    content: '';
    position: absolute;
    left: -1.75em;
    top: 0.3em;
    width: 10px;
    height: 10px;
    background: var(--color-primary);
    border-radius: 50%;
}

/* Print Optimizations */
@media print {
    body {
        font-size: 10pt;
    }

    .no-print {
        display: none;
    }

    a {
        color: var(--color-dark);
    }

    pre {
        white-space: pre-wrap;
        word-wrap: break-word;
    }
}

/* Status Icons - Unicode fallbacks */
.status-pass::before { content: "✓ "; color: var(--color-low); }
.status-fail::before { content: "✗ "; color: var(--color-critical); }
.status-warn::before { content: "! "; color: var(--color-medium); }
.status-info::before { content: "ℹ "; color: var(--color-info); }
